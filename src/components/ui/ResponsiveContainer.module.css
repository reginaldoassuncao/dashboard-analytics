.container {
  display: grid;
  grid-template-columns: repeat(var(--columns, auto-fill), minmax(min(var(--min-item-width, 280px), 100%), 1fr));
  gap: var(--grid-gap, var(--space-6));
  width: 100%;
  container-type: inline-size;
}

/* Viewport-based responsive adjustments */
@media (max-width: 1400px) {
  .container {
    grid-template-columns: repeat(auto-fill, minmax(min(260px, 100%), 1fr));
    gap: var(--space-5);
  }
}

@media (max-width: 1200px) {
  .container {
    grid-template-columns: repeat(auto-fill, minmax(min(240px, 100%), 1fr));
    gap: var(--space-4);
  }
}

@media (max-width: 1000px) {
  .container {
    grid-template-columns: repeat(auto-fill, minmax(min(220px, 100%), 1fr));
    gap: var(--space-4);
  }
}

@media (max-width: 850px) {
  .container {
    grid-template-columns: repeat(auto-fit, minmax(min(200px, 45%), 1fr));
    gap: var(--space-3);
  }
}

@media (max-width: 768px) {
  .container {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
}

@media (max-width: 600px) {
  .container {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: var(--space-2);
  }
}

@media (max-width: 480px) {
  .container {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }
}

/* Container queries for zoom support */
@container (max-width: 1200px) {
  .container {
    grid-template-columns: repeat(auto-fill, minmax(min(240px, 100%), 1fr));
    gap: var(--space-4);
  }
}

@container (max-width: 800px) {
  .container {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
}

@container (max-width: 500px) {
  .container {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }
}

@container (max-width: 400px) {
  .container {
    gap: var(--space-2);
  }
}

/* Special handling for very small containers */
@container (max-width: 300px) {
  .container {
    gap: var(--space-1);
  }
}